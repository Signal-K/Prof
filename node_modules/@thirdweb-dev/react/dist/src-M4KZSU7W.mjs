"use strict";!function(o){o&&(void 0===o.global&&(o.global=o),void 0===o.globalThis&&(o.globalThis=o),void 0===o.process&&(o.process={env:{NODE_ENV:"production"}}))}("undefined"!=typeof window?window:void 0);
import{a as et,b as Lt,c as fs,d as Ct,f as ps,g as Es}from"./chunk-PYTPU5C5.mjs";import{b as gs,d as ws}from"./chunk-C6MEH4HL.mjs";import{e as Ae,f as Rt,h as U,i as Je,k as _e,m as $t,r as ds,s as Qe,t as Nt,w as Dt,x as ke}from"./chunk-ID4MTWCW.mjs";import{a as T,b as he,c as i,f as ue,g as E,h as hs,i as us,j as Te}from"./chunk-I5QJ6ZQW.mjs";var Ie=E(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.safeDeploymentsL1ChainIds=P.safeDeploymentsVersions=P.SAFE_BASE_VERSION=P.SAFE_LAST_VERSION=void 0;P.SAFE_LAST_VERSION="1.3.0";P.SAFE_BASE_VERSION="1.1.1";P.safeDeploymentsVersions={"1.3.0":{safeMasterCopyVersion:"1.3.0",safeMasterCopyL2Version:"1.3.0",safeProxyFactoryVersion:"1.3.0",multiSendVersion:"1.3.0"},"1.2.0":{safeMasterCopyVersion:"1.2.0",safeMasterCopyL2Version:void 0,safeProxyFactoryVersion:"1.1.1",multiSendVersion:"1.1.1"},"1.1.1":{safeMasterCopyVersion:"1.1.1",safeMasterCopyL2Version:void 0,safeProxyFactoryVersion:"1.1.1",multiSendVersion:"1.1.1"}};P.safeDeploymentsL1ChainIds=[1]});var tt=E(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.getMultiSendContract=O.getProxyFactoryContract=O.getSafeContract=O.getSafeProxyFactoryContractDeployment=O.getMultiSendContractDeployment=O.getSafeContractDeployment=void 0;var Oe=Es(),Re=Ie();function Pt(r,e,t=!1){let n={version:Re.safeDeploymentsVersions[r].safeMasterCopyVersion,network:e.toString(),released:!0};return Re.safeDeploymentsL1ChainIds.includes(e)||t?(0,Oe.getSafeSingletonDeployment)(n):(0,Oe.getSafeL2SingletonDeployment)(n)}i(Pt,"getSafeContractDeployment");O.getSafeContractDeployment=Pt;function bt(r,e){let t=Re.safeDeploymentsVersions[r].multiSendVersion;return(0,Oe.getMultiSendDeployment)({version:t,network:e.toString(),released:!0})}i(bt,"getMultiSendContractDeployment");O.getMultiSendContractDeployment=bt;function xt(r,e){let t=Re.safeDeploymentsVersions[r].safeProxyFactoryVersion;return(0,Oe.getProxyFactoryDeployment)({version:t,network:e.toString(),released:!0})}i(xt,"getSafeProxyFactoryContractDeployment");O.getSafeProxyFactoryContractDeployment=xt;async function vs({ethAdapter:r,safeVersion:e,chainId:t,customSafeAddress:s,isL1SafeMasterCopy:n,customContracts:a}){let o=Pt(e,t,n),u=r.getSafeContract({safeVersion:e,chainId:t,singletonDeployment:o,customContractAddress:s!=null?s:a==null?void 0:a.safeMasterCopyAddress,customContractAbi:a==null?void 0:a.safeMasterCopyAbi});if(!await r.isContractDeployed(u.getAddress()))throw new Error("Safe Proxy contract is not deployed on the current network");return u}i(vs,"getSafeContract");O.getSafeContract=vs;async function ys({ethAdapter:r,safeVersion:e,chainId:t,customContracts:s}){let n=xt(e,t),a=await r.getSafeProxyFactoryContract({safeVersion:e,chainId:t,singletonDeployment:n,customContractAddress:s==null?void 0:s.safeProxyFactoryAddress,customContractAbi:s==null?void 0:s.safeProxyFactoryAbi});if(!await r.isContractDeployed(a.getAddress()))throw new Error("Safe Proxy Factory contract is not deployed on the current network");return a}i(ys,"getProxyFactoryContract");O.getProxyFactoryContract=ys;async function Ss({ethAdapter:r,safeVersion:e,chainId:t,customContracts:s}){let n=bt(e,t),a=await r.getMultiSendContract({safeVersion:e,chainId:t,singletonDeployment:n,customContractAddress:s==null?void 0:s.multiSendAddress,customContractAbi:s==null?void 0:s.multiSendAbi});if(!await r.isContractDeployed(a.getAddress()))throw new Error("Multi Send contract is not deployed on the current network");return a}i(Ss,"getMultiSendContract");O.getMultiSendContract=Ss});var st=E(Y=>{"use strict";var $e=Y&&Y.__classPrivateFieldSet||function(r,e,t,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(r,t):n?n.value=t:e.set(r,t),t},Ne=Y&&Y.__classPrivateFieldGet||function(r,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(r):s?s.value:e.get(r)},De,Le,Ce,Pe;Object.defineProperty(Y,"__esModule",{value:!0});var ms=Ie(),rt=tt(),Ts=i(class Mt{constructor(){De.set(this,void 0),Le.set(this,void 0),Ce.set(this,void 0),Pe.set(this,void 0)}static async create({ethAdapter:e,safeAddress:t,isL1SafeMasterCopy:s,contractNetworks:n}){let a=new Mt;return await a.init({ethAdapter:e,safeAddress:t,isL1SafeMasterCopy:s,contractNetworks:n}),a}async init({ethAdapter:e,safeAddress:t,isL1SafeMasterCopy:s,contractNetworks:n}){let a=await e.getChainId(),o=n==null?void 0:n[a];$e(this,De,n,"f"),$e(this,Le,s,"f");let c=await(await(0,rt.getSafeContract)({ethAdapter:e,safeVersion:ms.SAFE_LAST_VERSION,chainId:a,isL1SafeMasterCopy:s,customSafeAddress:t,customContracts:o})).getVersion();$e(this,Ce,await(0,rt.getSafeContract)({ethAdapter:e,safeVersion:c,chainId:a,isL1SafeMasterCopy:s,customSafeAddress:t,customContracts:o}),"f"),$e(this,Pe,await(0,rt.getMultiSendContract)({ethAdapter:e,safeVersion:c,chainId:a,customContracts:o}),"f")}get contractNetworks(){return Ne(this,De,"f")}get isL1SafeMasterCopy(){return Ne(this,Le,"f")}get safeContract(){return Ne(this,Ce,"f")}get multiSendContract(){return Ne(this,Pe,"f")}},"ContractManager");De=new WeakMap,Le=new WeakMap,Ce=new WeakMap,Pe=new WeakMap;Y.default=Ts});var ne=E(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.SENTINEL_ADDRESS=X.EMPTY_DATA=X.ZERO_ADDRESS=void 0;X.ZERO_ADDRESS=`0x${"0".repeat(40)}`;X.EMPTY_DATA="0x";X.SENTINEL_ADDRESS="0x0000000000000000000000000000000000000001"});var de=E(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});H.isMetaTransactionArray=H.isRestrictedAddress=H.sameString=void 0;var Ft=ne();function As(r,e){return r.toLowerCase()===e.toLowerCase()}i(As,"sameString");H.sameString=As;function _s(r){return r===Ft.ZERO_ADDRESS}i(_s,"isZeroAddress");function Is(r){return r===Ft.SENTINEL_ADDRESS}i(Is,"isSentinelAddress");function Os(r){return _s(r)||Is(r)}i(Os,"isRestrictedAddress");H.isRestrictedAddress=Os;function Rs(r){return(r==null?void 0:r.length)!==void 0}i(Rs,"isMetaTransactionArray");H.isMetaTransactionArray=Rs});var qt=E(J=>{"use strict";var Gt=J&&J.__classPrivateFieldSet||function(r,e,t,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(r,t):n?n.value=t:e.set(r,t),t},fe=J&&J.__classPrivateFieldGet||function(r,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(r):s?s.value:e.get(r)},be,K;Object.defineProperty(J,"__esModule",{value:!0});var nt=de(),$s=ne(),Ns=i(class{constructor(e,t){be.set(this,void 0),K.set(this,void 0),Gt(this,be,e,"f"),Gt(this,K,t,"f")}validateModuleAddress(e){if(!fe(this,be,"f").isAddress(e)||(0,nt.isRestrictedAddress)(e))throw new Error("Invalid module address provided")}validateModuleIsNotEnabled(e,t){if(t.findIndex(a=>(0,nt.sameString)(a,e))>=0)throw new Error("Module provided is already enabled")}validateModuleIsEnabled(e,t){let s=t.findIndex(a=>(0,nt.sameString)(a,e));if(!(s>=0))throw new Error("Module provided is not enabled already");return s}async getModules(){return fe(this,K,"f").getModules()}async isModuleEnabled(e){return fe(this,K,"f").isModuleEnabled(e)}async encodeEnableModuleData(e){this.validateModuleAddress(e);let t=await this.getModules();return this.validateModuleIsNotEnabled(e,t),fe(this,K,"f").encode("enableModule",[e])}async encodeDisableModuleData(e){this.validateModuleAddress(e);let t=await this.getModules(),s=this.validateModuleIsEnabled(e,t),n=s===0?$s.SENTINEL_ADDRESS:t[s-1];return fe(this,K,"f").encode("disableModule",[n,e])}},"ModuleManager");be=new WeakMap,K=new WeakMap;J.default=Ns});var Ut=E(Q=>{"use strict";var Vt=Q&&Q.__classPrivateFieldSet||function(r,e,t,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(r,t):n?n.value=t:e.set(r,t),t},W=Q&&Q.__classPrivateFieldGet||function(r,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(r):s?s.value:e.get(r)},xe,b;Object.defineProperty(Q,"__esModule",{value:!0});var at=de(),jt=ne(),Ds=i(class{constructor(e,t){xe.set(this,void 0),b.set(this,void 0),Vt(this,xe,e,"f"),Vt(this,b,t,"f")}validateOwnerAddress(e,t){if(!W(this,xe,"f").isAddress(e)||(0,at.isRestrictedAddress)(e))throw new Error(t||"Invalid owner address provided")}validateThreshold(e,t){if(e<=0)throw new Error("Threshold needs to be greater than 0");if(e>t)throw new Error("Threshold cannot exceed owner count")}validateAddressIsNotOwner(e,t,s){if(t.findIndex(o=>(0,at.sameString)(o,e))>=0)throw new Error(s||"Address provided is already an owner")}validateAddressIsOwner(e,t,s){let n=t.findIndex(o=>(0,at.sameString)(o,e));if(!(n>=0))throw new Error(s||"Address provided is not an owner");return n}async getOwners(){return[...await W(this,b,"f").getOwners()]}async getThreshold(){return W(this,b,"f").getThreshold()}async isOwner(e){return W(this,b,"f").isOwner(e)}async encodeAddOwnerWithThresholdData(e,t){this.validateOwnerAddress(e);let s=await this.getOwners();this.validateAddressIsNotOwner(e,s);let n=t!=null?t:await this.getThreshold();return this.validateThreshold(n,s.length+1),W(this,b,"f").encode("addOwnerWithThreshold",[e,n])}async encodeRemoveOwnerData(e,t){this.validateOwnerAddress(e);let s=await this.getOwners(),n=this.validateAddressIsOwner(e,s),a=t!=null?t:await this.getThreshold()-1;this.validateThreshold(a,s.length-1);let o=n===0?jt.SENTINEL_ADDRESS:s[n-1];return W(this,b,"f").encode("removeOwner",[o,e,a])}async encodeSwapOwnerData(e,t){this.validateOwnerAddress(t,"Invalid new owner address provided"),this.validateOwnerAddress(e,"Invalid old owner address provided");let s=await this.getOwners();this.validateAddressIsNotOwner(t,s,"New address provided is already an owner");let n=this.validateAddressIsOwner(e,s,"Old address provided is not an owner"),a=n===0?jt.SENTINEL_ADDRESS:s[n-1];return W(this,b,"f").encode("swapOwner",[a,e,t])}async encodeChangeThresholdData(e){let t=await this.getOwners();return this.validateThreshold(e,t.length),W(this,b,"f").encode("changeThreshold",[e])}},"OwnerManager");xe=new WeakMap,b=new WeakMap;Q.default=Ds});var ot=E(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});var Ls=i(class{constructor(e,t){this.signer=e,this.data=t}staticPart(){return this.data}dynamicPart(){return""}},"EthSignSignature");it.default=Ls});var Bt=E(D=>{"use strict";var Cs=D&&D.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(D,"__esModule",{value:!0});D.generateSignature=D.adjustVInSignature=D.isTxHashSignedWithPrefix=D.generatePreValidatedSignature=void 0;var ct=ws(),Ps=de(),Xt=Cs(ot());function bs(r){let e="0x000000000000000000000000"+r.slice(2)+"000000000000000000000000000000000000000000000000000000000000000001";return new Xt.default(r,e)}i(bs,"generatePreValidatedSignature");D.generatePreValidatedSignature=bs;function Ht(r,e,t){let s;try{let n={r:Buffer.from(e.slice(2,66),"hex"),s:Buffer.from(e.slice(66,130),"hex"),v:parseInt(e.slice(130,132),16)},a=(0,ct.ecrecover)(Buffer.from(r.slice(2),"hex"),n.v,n.r,n.s),o=(0,ct.bufferToHex)((0,ct.pubToAddress)(a));s=!(0,Ps.sameString)(o,t)}catch{s=!0}return s}i(Ht,"isTxHashSignedWithPrefix");D.isTxHashSignedWithPrefix=Ht;function Wt(r,e){let t=[0,1,27,28],s=27,n=parseInt(r.slice(-2),16);if(!t.includes(n))throw new Error("Invalid signature");return n<s&&(n+=s),e&&(n+=4),r=r.slice(0,-2)+n.toString(16),r}i(Wt,"adjustVInSignature");D.adjustVInSignature=Wt;async function xs(r,e){let t=await r.getSignerAddress(),s=await r.signMessage(e),n=Ht(e,s,t);return s=Wt(s,n),new Xt.default(t,s)}i(xs,"generateSignature");D.generateSignature=xs});var zt=E(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});var Ms=i(class{constructor(e){this.signatures=new Map,this.data=e}addSignature(e){this.signatures.set(e.signer.toLowerCase(),e)}encodedSignatures(){let e=Array.from(this.signatures.keys()).sort(),t=e.length*65,s="",n="";return e.forEach(a=>{let o=this.signatures.get(a);s+=o==null?void 0:o.staticPart().slice(2),n+=o==null?void 0:o.dynamicPart()}),"0x"+s+n}},"EthSafeTransaction");lt.default=Ms});var Zt,Yt=ue(()=>{Zt="sha2/5.6.0"});function ht(r){return"0x"+Kt.default.sha256().update(U(r)).digest("hex")}var Kt,Ka,Jt=ue(()=>{"use strict";Kt=us(gs());Qe();Rt();Yt();Ka=new Ae(Zt);i(ht,"sha256")});var Qt=ue(()=>{Jt()});var kt,er=ue(()=>{kt="solidity/5.6.0"});var rr={};hs(rr,{keccak256:()=>js,pack:()=>ut,sha256:()=>Us});function tr(r,e,t){switch(r){case"address":return t?_e(e,32):U(e);case"string":return Ct(e);case"bytes":return U(e);case"bool":return e=e?"0x01":"0x00",t?_e(e,32):U(e)}let s=r.match(Gs);if(s){let n=parseInt(s[2]||"256");return(s[2]&&String(n)!==s[2]||n%8!==0||n===0||n>256)&&ae.throwArgumentError("invalid number type","type",r),t&&(n=256),e=Nt.from(e).toTwos(n),_e(e,n/8)}if(s=r.match(Fs),s){let n=parseInt(s[1]);return(String(n)!==s[1]||n===0||n>32)&&ae.throwArgumentError("invalid bytes type","type",r),U(e).byteLength!==n&&ae.throwArgumentError(`invalid value for ${r}`,"value",e),t?U((e+Vs).substring(0,66)):e}if(s=r.match(qs),s&&Array.isArray(e)){let n=s[1];parseInt(s[2]||String(e.length))!=e.length&&ae.throwArgumentError(`invalid array length for ${r}`,"value",e);let o=[];return e.forEach(function(u){o.push(tr(n,u,!0))}),Je(o)}return ae.throwArgumentError("invalid type","type",r)}function ut(r,e){r.length!=e.length&&ae.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);let t=[];return r.forEach(function(s,n){t.push(tr(s,e[n]))}),$t(Je(t))}function js(r,e){return Lt(ut(r,e))}function Us(r,e){return ht(ut(r,e))}var Fs,Gs,qs,Vs,ae,sr=ue(()=>{"use strict";ke();Qe();fs();Qt();ps();Rt();er();Fs=new RegExp("^bytes([0-9]+)$"),Gs=new RegExp("^(u?int)([0-9]*)$"),qs=new RegExp("^(.*)\\[([0-9]*)\\]$"),Vs="0000000000000000000000000000000000000000000000000000000000000000",ae=new Ae(kt);i(tr,"_pack");i(ut,"pack");i(js,"keccak256");i(Us,"sha256")});var ar=E((ui,nr)=>{"use strict";nr.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var or=E((di,ir)=>{"use strict";ir.exports=g;g.Node=k;g.create=g;function g(r){var e=this;if(e instanceof g||(e=new g),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(n){e.push(n)});else if(arguments.length>0)for(var t=0,s=arguments.length;t<s;t++)e.push(arguments[t]);return e}i(g,"Yallist");g.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};g.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};g.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};g.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)Hs(this,arguments[r]);return this.length};g.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)Ws(this,arguments[r]);return this.length};g.prototype.pop=function(){if(!!this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};g.prototype.shift=function(){if(!!this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};g.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,s=0;t!==null;s++)r.call(e,t.value,s,this),t=t.next};g.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,s=this.length-1;t!==null;s--)r.call(e,t.value,s,this),t=t.prev};g.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};g.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};g.prototype.map=function(r,e){e=e||this;for(var t=new g,s=this.head;s!==null;)t.push(r.call(e,s.value,this)),s=s.next;return t};g.prototype.mapReverse=function(r,e){e=e||this;for(var t=new g,s=this.tail;s!==null;)t.push(r.call(e,s.value,this)),s=s.prev;return t};g.prototype.reduce=function(r,e){var t,s=this.head;if(arguments.length>1)t=e;else if(this.head)s=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var n=0;s!==null;n++)t=r(t,s.value,n),s=s.next;return t};g.prototype.reduceReverse=function(r,e){var t,s=this.tail;if(arguments.length>1)t=e;else if(this.tail)s=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var n=this.length-1;s!==null;n--)t=r(t,s.value,n),s=s.prev;return t};g.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};g.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};g.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new g;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var s=0,n=this.head;n!==null&&s<r;s++)n=n.next;for(;n!==null&&s<e;s++,n=n.next)t.push(n.value);return t};g.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new g;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var s=this.length,n=this.tail;n!==null&&s>e;s--)n=n.prev;for(;n!==null&&s>r;s--,n=n.prev)t.push(n.value);return t};g.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var s=0,n=this.head;n!==null&&s<r;s++)n=n.next;for(var a=[],s=0;n&&s<e;s++)a.push(n.value),n=this.removeNode(n);n===null&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(var s=0;s<t.length;s++)n=Xs(this,n,t[s]);return a};g.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var s=t.prev;t.prev=t.next,t.next=s}return this.head=e,this.tail=r,this};function Xs(r,e,t){var s=e===r.head?new k(t,null,e,r):new k(t,e,e.next,r);return s.next===null&&(r.tail=s),s.prev===null&&(r.head=s),r.length++,s}i(Xs,"insert");function Hs(r,e){r.tail=new k(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}i(Hs,"push");function Ws(r,e){r.head=new k(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}i(Ws,"unshift");function k(r,e,t,s){if(!(this instanceof k))return new k(r,e,t,s);this.list=s,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}i(k,"Node");try{ar()(g)}catch{}});var dr=E((Ei,ur)=>{"use strict";var Bs=or(),ee=Symbol("max"),G=Symbol("length"),ie=Symbol("lengthCalculator"),Ee=Symbol("allowStale"),te=Symbol("maxAge"),F=Symbol("dispose"),cr=Symbol("noDisposeOnSet"),m=Symbol("lruList"),C=Symbol("cache"),hr=Symbol("updateAgeOnGet"),dt=i(()=>1,"naiveLength"),zs=i(class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[ee]=e.max||1/0,s=e.length||dt;if(this[ie]=typeof s!="function"?dt:s,this[Ee]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[te]=e.maxAge||0,this[F]=e.dispose,this[cr]=e.noDisposeOnSet||!1,this[hr]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[ee]=e||1/0,pe(this)}get max(){return this[ee]}set allowStale(e){this[Ee]=!!e}get allowStale(){return this[Ee]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[te]=e,pe(this)}get maxAge(){return this[te]}set lengthCalculator(e){typeof e!="function"&&(e=dt),e!==this[ie]&&(this[ie]=e,this[G]=0,this[m].forEach(t=>{t.length=this[ie](t.value,t.key),this[G]+=t.length})),pe(this)}get lengthCalculator(){return this[ie]}get length(){return this[G]}get itemCount(){return this[m].length}rforEach(e,t){t=t||this;for(let s=this[m].tail;s!==null;){let n=s.prev;lr(this,e,s,t),s=n}}forEach(e,t){t=t||this;for(let s=this[m].head;s!==null;){let n=s.next;lr(this,e,s,t),s=n}}keys(){return this[m].toArray().map(e=>e.key)}values(){return this[m].toArray().map(e=>e.value)}reset(){this[F]&&this[m]&&this[m].length&&this[m].forEach(e=>this[F](e.key,e.value)),this[C]=new Map,this[m]=new Bs,this[G]=0}dump(){return this[m].map(e=>Me(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[m]}set(e,t,s){if(s=s||this[te],s&&typeof s!="number")throw new TypeError("maxAge must be a number");let n=s?Date.now():0,a=this[ie](t,e);if(this[C].has(e)){if(a>this[ee])return oe(this,this[C].get(e)),!1;let c=this[C].get(e).value;return this[F]&&(this[cr]||this[F](e,c.value)),c.now=n,c.maxAge=s,c.value=t,this[G]+=a-c.length,c.length=a,this.get(e),pe(this),!0}let o=new Zs(e,t,a,n,s);return o.length>this[ee]?(this[F]&&this[F](e,t),!1):(this[G]+=o.length,this[m].unshift(o),this[C].set(e,this[m].head),pe(this),!0)}has(e){if(!this[C].has(e))return!1;let t=this[C].get(e).value;return!Me(this,t)}get(e){return ft(this,e,!0)}peek(e){return ft(this,e,!1)}pop(){let e=this[m].tail;return e?(oe(this,e),e.value):null}del(e){oe(this,this[C].get(e))}load(e){this.reset();let t=Date.now();for(let s=e.length-1;s>=0;s--){let n=e[s],a=n.e||0;if(a===0)this.set(n.k,n.v);else{let o=a-t;o>0&&this.set(n.k,n.v,o)}}}prune(){this[C].forEach((e,t)=>ft(this,t,!1))}},"LRUCache"),ft=i((r,e,t)=>{let s=r[C].get(e);if(s){let n=s.value;if(Me(r,n)){if(oe(r,s),!r[Ee])return}else t&&(r[hr]&&(s.value.now=Date.now()),r[m].unshiftNode(s));return n.value}},"get"),Me=i((r,e)=>{if(!e||!e.maxAge&&!r[te])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[te]&&t>r[te]},"isStale"),pe=i(r=>{if(r[G]>r[ee])for(let e=r[m].tail;r[G]>r[ee]&&e!==null;){let t=e.prev;oe(r,e),e=t}},"trim"),oe=i((r,e)=>{if(e){let t=e.value;r[F]&&r[F](t.key,t.value),r[G]-=t.length,r[C].delete(t.key),r[m].removeNode(e)}},"del"),Zs=i(class{constructor(e,t,s,n,a){this.key=e,this.value=t,this.length=s,this.now=n,this.maxAge=a||0}},"Entry"),lr=i((r,e,t,s)=>{let n=t.value;Me(r,n)&&(oe(r,t),r[Ee]||(n=void 0)),n&&e.call(s,n.value,n.key,r)},"forEachStep");ur.exports=zs});var Fe=E((gi,fr)=>{var Ys=["includePrerelease","loose","rtl"],Ks=i(r=>r?typeof r!="object"?{loose:!0}:Ys.filter(e=>r[e]).reduce((e,t)=>(e[t]=!0,e),{}):{},"parseOptions");fr.exports=Ks});var pt=E((wi,pr)=>{var Js="2.0.0",Qs=Number.MAX_SAFE_INTEGER||9007199254740991,ks=16;pr.exports={SEMVER_SPEC_VERSION:Js,MAX_LENGTH:256,MAX_SAFE_INTEGER:Qs,MAX_SAFE_COMPONENT_LENGTH:ks}});var ge=E((vi,Er)=>{var en=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};Er.exports=en});var Ge=E((B,gr)=>{var{MAX_SAFE_COMPONENT_LENGTH:Et}=pt(),tn=ge();B=gr.exports={};var rn=B.re=[],l=B.src=[],h=B.t={},sn=0,d=i((r,e,t)=>{let s=sn++;tn(r,s,e),h[r]=s,l[s]=e,rn[s]=new RegExp(e,t?"g":void 0)},"createToken");d("NUMERICIDENTIFIER","0|[1-9]\\d*");d("NUMERICIDENTIFIERLOOSE","[0-9]+");d("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");d("MAINVERSION",`(${l[h.NUMERICIDENTIFIER]})\\.(${l[h.NUMERICIDENTIFIER]})\\.(${l[h.NUMERICIDENTIFIER]})`);d("MAINVERSIONLOOSE",`(${l[h.NUMERICIDENTIFIERLOOSE]})\\.(${l[h.NUMERICIDENTIFIERLOOSE]})\\.(${l[h.NUMERICIDENTIFIERLOOSE]})`);d("PRERELEASEIDENTIFIER",`(?:${l[h.NUMERICIDENTIFIER]}|${l[h.NONNUMERICIDENTIFIER]})`);d("PRERELEASEIDENTIFIERLOOSE",`(?:${l[h.NUMERICIDENTIFIERLOOSE]}|${l[h.NONNUMERICIDENTIFIER]})`);d("PRERELEASE",`(?:-(${l[h.PRERELEASEIDENTIFIER]}(?:\\.${l[h.PRERELEASEIDENTIFIER]})*))`);d("PRERELEASELOOSE",`(?:-?(${l[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[h.PRERELEASEIDENTIFIERLOOSE]})*))`);d("BUILDIDENTIFIER","[0-9A-Za-z-]+");d("BUILD",`(?:\\+(${l[h.BUILDIDENTIFIER]}(?:\\.${l[h.BUILDIDENTIFIER]})*))`);d("FULLPLAIN",`v?${l[h.MAINVERSION]}${l[h.PRERELEASE]}?${l[h.BUILD]}?`);d("FULL",`^${l[h.FULLPLAIN]}$`);d("LOOSEPLAIN",`[v=\\s]*${l[h.MAINVERSIONLOOSE]}${l[h.PRERELEASELOOSE]}?${l[h.BUILD]}?`);d("LOOSE",`^${l[h.LOOSEPLAIN]}$`);d("GTLT","((?:<|>)?=?)");d("XRANGEIDENTIFIERLOOSE",`${l[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);d("XRANGEIDENTIFIER",`${l[h.NUMERICIDENTIFIER]}|x|X|\\*`);d("XRANGEPLAIN",`[v=\\s]*(${l[h.XRANGEIDENTIFIER]})(?:\\.(${l[h.XRANGEIDENTIFIER]})(?:\\.(${l[h.XRANGEIDENTIFIER]})(?:${l[h.PRERELEASE]})?${l[h.BUILD]}?)?)?`);d("XRANGEPLAINLOOSE",`[v=\\s]*(${l[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[h.XRANGEIDENTIFIERLOOSE]})(?:${l[h.PRERELEASELOOSE]})?${l[h.BUILD]}?)?)?`);d("XRANGE",`^${l[h.GTLT]}\\s*${l[h.XRANGEPLAIN]}$`);d("XRANGELOOSE",`^${l[h.GTLT]}\\s*${l[h.XRANGEPLAINLOOSE]}$`);d("COERCE",`(^|[^\\d])(\\d{1,${Et}})(?:\\.(\\d{1,${Et}}))?(?:\\.(\\d{1,${Et}}))?(?:$|[^\\d])`);d("COERCERTL",l[h.COERCE],!0);d("LONETILDE","(?:~>?)");d("TILDETRIM",`(\\s*)${l[h.LONETILDE]}\\s+`,!0);B.tildeTrimReplace="$1~";d("TILDE",`^${l[h.LONETILDE]}${l[h.XRANGEPLAIN]}$`);d("TILDELOOSE",`^${l[h.LONETILDE]}${l[h.XRANGEPLAINLOOSE]}$`);d("LONECARET","(?:\\^)");d("CARETTRIM",`(\\s*)${l[h.LONECARET]}\\s+`,!0);B.caretTrimReplace="$1^";d("CARET",`^${l[h.LONECARET]}${l[h.XRANGEPLAIN]}$`);d("CARETLOOSE",`^${l[h.LONECARET]}${l[h.XRANGEPLAINLOOSE]}$`);d("COMPARATORLOOSE",`^${l[h.GTLT]}\\s*(${l[h.LOOSEPLAIN]})$|^$`);d("COMPARATOR",`^${l[h.GTLT]}\\s*(${l[h.FULLPLAIN]})$|^$`);d("COMPARATORTRIM",`(\\s*)${l[h.GTLT]}\\s*(${l[h.LOOSEPLAIN]}|${l[h.XRANGEPLAIN]})`,!0);B.comparatorTrimReplace="$1$2$3";d("HYPHENRANGE",`^\\s*(${l[h.XRANGEPLAIN]})\\s+-\\s+(${l[h.XRANGEPLAIN]})\\s*$`);d("HYPHENRANGELOOSE",`^\\s*(${l[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[h.XRANGEPLAINLOOSE]})\\s*$`);d("STAR","(<|>)?=?\\s*\\*");d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Sr=E((yi,yr)=>{var wr=/^[0-9]+$/,vr=i((r,e)=>{let t=wr.test(r),s=wr.test(e);return t&&s&&(r=+r,e=+e),r===e?0:t&&!s?-1:s&&!t?1:r<e?-1:1},"compareIdentifiers"),nn=i((r,e)=>vr(e,r),"rcompareIdentifiers");yr.exports={compareIdentifiers:vr,rcompareIdentifiers:nn}});var je=E((Si,_r)=>{var qe=ge(),{MAX_LENGTH:mr,MAX_SAFE_INTEGER:Ve}=pt(),{re:Tr,t:Ar}=Ge(),an=Fe(),{compareIdentifiers:ce}=Sr(),on=i(class x{constructor(e,t){if(t=an(t),e instanceof x){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>mr)throw new TypeError(`version is longer than ${mr} characters`);qe("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let s=e.trim().match(t.loose?Tr[Ar.LOOSE]:Tr[Ar.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>Ve||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ve||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ve||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(n=>{if(/^[0-9]+$/.test(n)){let a=+n;if(a>=0&&a<Ve)return a}return n}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(qe("SemVer.compare",this.version,this.options,e),!(e instanceof x)){if(typeof e=="string"&&e===this.version)return 0;e=new x(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof x||(e=new x(e,this.options)),ce(this.major,e.major)||ce(this.minor,e.minor)||ce(this.patch,e.patch)}comparePre(e){if(e instanceof x||(e=new x(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let s=this.prerelease[t],n=e.prerelease[t];if(qe("prerelease compare",t,s,n),s===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(s===void 0)return-1;if(s===n)continue;return ce(s,n)}while(++t)}compareBuild(e){e instanceof x||(e=new x(e,this.options));let t=0;do{let s=this.build[t],n=e.build[t];if(qe("prerelease compare",t,s,n),s===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(s===void 0)return-1;if(s===n)continue;return ce(s,n)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);s===-1&&this.prerelease.push(0)}t&&(ce(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}},"SemVer");_r.exports=on});var re=E((mi,Or)=>{var Ir=je(),cn=i((r,e,t)=>new Ir(r,t).compare(new Ir(e,t)),"compare");Or.exports=cn});var $r=E((Ti,Rr)=>{var ln=re(),hn=i((r,e,t)=>ln(r,e,t)===0,"eq");Rr.exports=hn});var Dr=E((Ai,Nr)=>{var un=re(),dn=i((r,e,t)=>un(r,e,t)!==0,"neq");Nr.exports=dn});var Cr=E((_i,Lr)=>{var fn=re(),pn=i((r,e,t)=>fn(r,e,t)>0,"gt");Lr.exports=pn});var br=E((Ii,Pr)=>{var En=re(),gn=i((r,e,t)=>En(r,e,t)>=0,"gte");Pr.exports=gn});var Mr=E((Oi,xr)=>{var wn=re(),vn=i((r,e,t)=>wn(r,e,t)<0,"lt");xr.exports=vn});var Gr=E((Ri,Fr)=>{var yn=re(),Sn=i((r,e,t)=>yn(r,e,t)<=0,"lte");Fr.exports=Sn});var Vr=E(($i,qr)=>{var mn=$r(),Tn=Dr(),An=Cr(),_n=br(),In=Mr(),On=Gr(),Rn=i((r,e,t,s)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return mn(r,t,s);case"!=":return Tn(r,t,s);case">":return An(r,t,s);case">=":return _n(r,t,s);case"<":return In(r,t,s);case"<=":return On(r,t,s);default:throw new TypeError(`Invalid operator: ${e}`)}},"cmp");qr.exports=Rn});var Br=E((Ni,Wr)=>{var we=Symbol("SemVer ANY"),$n=i(class vt{static get ANY(){return we}constructor(e,t){if(t=Nn(t),e instanceof vt){if(e.loose===!!t.loose)return e;e=e.value}wt("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===we?this.value="":this.value=this.operator+this.semver.version,wt("comp",this)}parse(e){let t=this.options.loose?jr[Ur.COMPARATORLOOSE]:jr[Ur.COMPARATOR],s=e.match(t);if(!s)throw new TypeError(`Invalid comparator: ${e}`);this.operator=s[1]!==void 0?s[1]:"",this.operator==="="&&(this.operator=""),s[2]?this.semver=new Xr(s[2],this.options.loose):this.semver=we}toString(){return this.value}test(e){if(wt("Comparator.test",e,this.options.loose),this.semver===we||e===we)return!0;if(typeof e=="string")try{e=new Xr(e,this.options)}catch{return!1}return gt(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof vt))throw new TypeError("a Comparator is required");if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new Hr(e.value,t).test(this.value);if(e.operator==="")return e.value===""?!0:new Hr(this.value,t).test(e.semver);let s=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),n=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),a=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),u=gt(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),c=gt(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return s||n||a&&o||u||c}},"Comparator");Wr.exports=$n;var Nn=Fe(),{re:jr,t:Ur}=Ge(),gt=Vr(),wt=ge(),Xr=je(),Hr=yt()});var yt=E((Di,Kr)=>{var Dn=i(class Ue{constructor(e,t){if(t=Cn(t),e instanceof Ue)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Ue(e.raw,t);if(e instanceof St)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map(s=>this.parseRange(s.trim())).filter(s=>s.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let s=this.set[0];if(this.set=this.set.filter(n=>!Zr(n[0])),this.set.length===0)this.set=[s];else if(this.set.length>1){for(let n of this.set)if(n.length===1&&Fn(n[0])){this.set=[n];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let s=`parseRange:${Object.keys(this.options).join(",")}:${e}`,n=zr.get(s);if(n)return n;let a=this.options.loose,o=a?R[A.HYPHENRANGELOOSE]:R[A.HYPHENRANGE];e=e.replace(o,zn(this.options.includePrerelease)),y("hyphen replace",e),e=e.replace(R[A.COMPARATORTRIM],bn),y("comparator trim",e),e=e.replace(R[A.TILDETRIM],xn),e=e.replace(R[A.CARETTRIM],Mn),e=e.split(/\s+/).join(" ");let u=e.split(" ").map(v=>Gn(v,this.options)).join(" ").split(/\s+/).map(v=>Bn(v,this.options));a&&(u=u.filter(v=>(y("loose invalid filter",v,this.options),!!v.match(R[A.COMPARATORLOOSE])))),y("range list",u);let c=new Map,f=u.map(v=>new St(v,this.options));for(let v of f){if(Zr(v))return[v];c.set(v.value,v)}c.size>1&&c.has("")&&c.delete("");let w=[...c.values()];return zr.set(s,w),w}intersects(e,t){if(!(e instanceof Ue))throw new TypeError("a Range is required");return this.set.some(s=>Yr(s,t)&&e.set.some(n=>Yr(n,t)&&s.every(a=>n.every(o=>a.intersects(o,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Pn(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(Zn(this.set[t],e,this.options))return!0;return!1}},"Range");Kr.exports=Dn;var Ln=dr(),zr=new Ln({max:1e3}),Cn=Fe(),St=Br(),y=ge(),Pn=je(),{re:R,t:A,comparatorTrimReplace:bn,tildeTrimReplace:xn,caretTrimReplace:Mn}=Ge(),Zr=i(r=>r.value==="<0.0.0-0","isNullSet"),Fn=i(r=>r.value==="","isAny"),Yr=i((r,e)=>{let t=!0,s=r.slice(),n=s.pop();for(;t&&s.length;)t=s.every(a=>n.intersects(a,e)),n=s.pop();return t},"isSatisfiable"),Gn=i((r,e)=>(y("comp",r,e),r=jn(r,e),y("caret",r),r=qn(r,e),y("tildes",r),r=Xn(r,e),y("xrange",r),r=Wn(r,e),y("stars",r),r),"parseComparator"),_=i(r=>!r||r.toLowerCase()==="x"||r==="*","isX"),qn=i((r,e)=>r.trim().split(/\s+/).map(t=>Vn(t,e)).join(" "),"replaceTildes"),Vn=i((r,e)=>{let t=e.loose?R[A.TILDELOOSE]:R[A.TILDE];return r.replace(t,(s,n,a,o,u)=>{y("tilde",r,s,n,a,o,u);let c;return _(n)?c="":_(a)?c=`>=${n}.0.0 <${+n+1}.0.0-0`:_(o)?c=`>=${n}.${a}.0 <${n}.${+a+1}.0-0`:u?(y("replaceTilde pr",u),c=`>=${n}.${a}.${o}-${u} <${n}.${+a+1}.0-0`):c=`>=${n}.${a}.${o} <${n}.${+a+1}.0-0`,y("tilde return",c),c})},"replaceTilde"),jn=i((r,e)=>r.trim().split(/\s+/).map(t=>Un(t,e)).join(" "),"replaceCarets"),Un=i((r,e)=>{y("caret",r,e);let t=e.loose?R[A.CARETLOOSE]:R[A.CARET],s=e.includePrerelease?"-0":"";return r.replace(t,(n,a,o,u,c)=>{y("caret",r,n,a,o,u,c);let f;return _(a)?f="":_(o)?f=`>=${a}.0.0${s} <${+a+1}.0.0-0`:_(u)?a==="0"?f=`>=${a}.${o}.0${s} <${a}.${+o+1}.0-0`:f=`>=${a}.${o}.0${s} <${+a+1}.0.0-0`:c?(y("replaceCaret pr",c),a==="0"?o==="0"?f=`>=${a}.${o}.${u}-${c} <${a}.${o}.${+u+1}-0`:f=`>=${a}.${o}.${u}-${c} <${a}.${+o+1}.0-0`:f=`>=${a}.${o}.${u}-${c} <${+a+1}.0.0-0`):(y("no pr"),a==="0"?o==="0"?f=`>=${a}.${o}.${u}${s} <${a}.${o}.${+u+1}-0`:f=`>=${a}.${o}.${u}${s} <${a}.${+o+1}.0-0`:f=`>=${a}.${o}.${u} <${+a+1}.0.0-0`),y("caret return",f),f})},"replaceCaret"),Xn=i((r,e)=>(y("replaceXRanges",r,e),r.split(/\s+/).map(t=>Hn(t,e)).join(" ")),"replaceXRanges"),Hn=i((r,e)=>{r=r.trim();let t=e.loose?R[A.XRANGELOOSE]:R[A.XRANGE];return r.replace(t,(s,n,a,o,u,c)=>{y("xRange",r,s,n,a,o,u,c);let f=_(a),w=f||_(o),v=w||_(u),Z=v;return n==="="&&Z&&(n=""),c=e.includePrerelease?"-0":"",f?n===">"||n==="<"?s="<0.0.0-0":s="*":n&&Z?(w&&(o=0),u=0,n===">"?(n=">=",w?(a=+a+1,o=0,u=0):(o=+o+1,u=0)):n==="<="&&(n="<",w?a=+a+1:o=+o+1),n==="<"&&(c="-0"),s=`${n+a}.${o}.${u}${c}`):w?s=`>=${a}.0.0${c} <${+a+1}.0.0-0`:v&&(s=`>=${a}.${o}.0${c} <${a}.${+o+1}.0-0`),y("xRange return",s),s})},"replaceXRange"),Wn=i((r,e)=>(y("replaceStars",r,e),r.trim().replace(R[A.STAR],"")),"replaceStars"),Bn=i((r,e)=>(y("replaceGTE0",r,e),r.trim().replace(R[e.includePrerelease?A.GTE0PRE:A.GTE0],"")),"replaceGTE0"),zn=i(r=>(e,t,s,n,a,o,u,c,f,w,v,Z,La)=>(_(s)?t="":_(n)?t=`>=${s}.0.0${r?"-0":""}`:_(a)?t=`>=${s}.${n}.0${r?"-0":""}`:o?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,_(f)?c="":_(w)?c=`<${+f+1}.0.0-0`:_(v)?c=`<${f}.${+w+1}.0-0`:Z?c=`<=${f}.${w}.${v}-${Z}`:r?c=`<${f}.${w}.${+v+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),"hyphenReplace"),Zn=i((r,e,t)=>{for(let s=0;s<r.length;s++)if(!r[s].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let s=0;s<r.length;s++)if(y(r[s].semver),r[s].semver!==St.ANY&&r[s].semver.prerelease.length>0){let n=r[s].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0},"testSet")});var Qr=E((Li,Jr)=>{var Yn=yt(),Kn=i((r,e,t)=>{try{e=new Yn(e,t)}catch{return!1}return e.test(r)},"satisfies");Jr.exports=Kn});var es=E(L=>{"use strict";var Jn=L&&L.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(L,"__esModule",{value:!0});L.hasFeature=L.enabledFeatures=L.FEATURES=void 0;var Qn=Jn(Qr()),mt;(function(r){r[r.SAFE_TX_GAS_OPTIONAL=0]="SAFE_TX_GAS_OPTIONAL"})(mt=L.FEATURES||(L.FEATURES={}));var kr={[mt.SAFE_TX_GAS_OPTIONAL]:">=1.3.0"},kn=i((r,e)=>r in kr?(0,Qn.default)(e,kr[r]):!0,"isEnabledByVersion"),ea=i(r=>Object.values(mt).filter(t=>kn(t,r)),"enabledFeatures");L.enabledFeatures=ea;var ta=i((r,e)=>(0,L.enabledFeatures)(e).includes(r),"hasFeature");L.hasFeature=ta});var ts=E(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.estimateTxGas=void 0;var ra=(ke(),Te(Dt)),sa=et();function na(r){let e=i((t,s)=>s==="0x"?t+0:s==="00"?t+4:t+16,"reducer");return r.match(/.{2}/g).reduce(e,0)}i(na,"estimateDataGasCosts");async function aa(r,e,t,s,n,a){let o=0,u=r.getAddress(),c=r.encode("requiredTxGas",[t,s,n,a]);try{let f=(await e.estimateGas({to:u,from:u,data:c})).toString();o=ra.BigNumber.from("0x"+f.substring(138)).toNumber()+1e4}catch{}if(o>0){let f=na(c),w=1e4;for(let v=0;v<10;v++){try{if(await e.call({to:u,from:u,data:c,gasPrice:0,gasLimit:o+f+w})!=="0x")break}catch{}o+=w,w*=2}return o+w}try{return await e.estimateGas({to:t,from:u,value:s,data:n})}catch(f){return a===sa.OperationType.DelegateCall?0:Promise.reject(f)}}i(aa,"estimateTxGas");Xe.estimateTxGas=aa});var Tt=E(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.encodeMultiSendData=z.standardizeSafeTransactionData=z.standardizeMetaTransactionData=void 0;var ia=(Qe(),Te(ds)),oa=(sr(),Te(rr)),ns=et(),rs=ne(),ss=es(),ca=ts();function la(r){var e;return he(T({},r),{operation:(e=r.operation)!==null&&e!==void 0?e:ns.OperationType.Call})}i(la,"standardizeMetaTransactionData");z.standardizeMetaTransactionData=la;async function ha(r,e,t){var s,n,a,o,u;let c={to:t.to,value:t.value,data:t.data,operation:(s=t.operation)!==null&&s!==void 0?s:ns.OperationType.Call,baseGas:(n=t.baseGas)!==null&&n!==void 0?n:0,gasPrice:(a=t.gasPrice)!==null&&a!==void 0?a:0,gasToken:t.gasToken||rs.ZERO_ADDRESS,refundReceiver:t.refundReceiver||rs.ZERO_ADDRESS,nonce:(o=t.nonce)!==null&&o!==void 0?o:await r.getNonce()},f,w=await r.getVersion();return(0,ss.hasFeature)(ss.FEATURES.SAFE_TX_GAS_OPTIONAL,w)&&c.gasPrice===0?f=0:f=(u=t.safeTxGas)!==null&&u!==void 0?u:await(0,ca.estimateTxGas)(r,e,c.to,c.value,c.data,c.operation),he(T({},c),{safeTxGas:f})}i(ha,"standardizeSafeTransactionData");z.standardizeSafeTransactionData=ha;function ua(r){let e=(0,ia.arrayify)(r.data);return(0,oa.pack)(["uint8","address","uint256","uint256","bytes"],[r.operation,r.to,r.value,e.length,e]).slice(2)}i(ua,"encodeMetaTransaction");function da(r){return"0x"+r.map(e=>ua(e)).join("")}i(da,"encodeMultiSendData");z.encodeMultiSendData=da});var Ot=E(q=>{"use strict";var He=q&&q.__classPrivateFieldSet||function(r,e,t,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(r,t):n?n.value=t:e.set(r,t),t},p=q&&q.__classPrivateFieldGet||function(r,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(r):s?s.value:e.get(r)},We=q&&q.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},I,S,M,se;Object.defineProperty(q,"__esModule",{value:!0});var as=(ke(),Te(Dt)),fa=et(),pa=We(st()),Ea=We(qt()),ga=We(Ut()),ve=de(),At=Bt(),wa=We(zt()),_t=Tt(),va=i(class It{constructor(){I.set(this,void 0),S.set(this,void 0),M.set(this,void 0),se.set(this,void 0)}static async create({ethAdapter:e,safeAddress:t,isL1SafeMasterCopy:s,contractNetworks:n}){let a=new It;return await a.init({ethAdapter:e,safeAddress:t,isL1SafeMasterCopy:s,contractNetworks:n}),a}async init({ethAdapter:e,safeAddress:t,isL1SafeMasterCopy:s,contractNetworks:n}){He(this,I,e,"f"),He(this,S,await pa.default.create({ethAdapter:p(this,I,"f"),safeAddress:t,isL1SafeMasterCopy:s,contractNetworks:n}),"f"),He(this,M,new ga.default(p(this,I,"f"),p(this,S,"f").safeContract),"f"),He(this,se,new Ea.default(p(this,I,"f"),p(this,S,"f").safeContract),"f")}async connect({ethAdapter:e,safeAddress:t,isL1SafeMasterCopy:s,contractNetworks:n}){return await It.create({ethAdapter:e||p(this,I,"f"),safeAddress:t||this.getAddress(),isL1SafeMasterCopy:s||p(this,S,"f").isL1SafeMasterCopy,contractNetworks:n||p(this,S,"f").contractNetworks})}getAddress(){return p(this,S,"f").safeContract.getAddress()}getContractManager(){return p(this,S,"f")}getEthAdapter(){return p(this,I,"f")}getMultiSendAddress(){return p(this,S,"f").multiSendContract.getAddress()}async getContractVersion(){return p(this,S,"f").safeContract.getVersion()}async getOwners(){return p(this,M,"f").getOwners()}async getNonce(){return p(this,S,"f").safeContract.getNonce()}async getThreshold(){return p(this,M,"f").getThreshold()}async getChainId(){return p(this,I,"f").getChainId()}async getBalance(){return p(this,I,"f").getBalance(this.getAddress())}async getModules(){return p(this,se,"f").getModules()}async isModuleEnabled(e){return p(this,se,"f").isModuleEnabled(e)}async isOwner(e){return p(this,M,"f").isOwner(e)}async createTransaction(e,t){if((0,ve.isMetaTransactionArray)(e)&&e.length===0)throw new Error("Invalid empty array of transactions");let s;if((0,ve.isMetaTransactionArray)(e)&&e.length>1){let a=(0,_t.encodeMultiSendData)(e.map(_t.standardizeMetaTransactionData));s=he(T({},t),{to:p(this,S,"f").multiSendContract.getAddress(),value:"0",data:p(this,S,"f").multiSendContract.encode("multiSend",[a]),operation:fa.OperationType.DelegateCall})}else s=(0,ve.isMetaTransactionArray)(e)?T(T({},t),e[0]):e;let n=await(0,_t.standardizeSafeTransactionData)(p(this,S,"f").safeContract,p(this,I,"f"),s);return new wa.default(n)}async createRejectionTransaction(e){return this.createTransaction({to:this.getAddress(),nonce:e,value:"0",data:"0x",safeTxGas:0})}async getTransactionHash(e){let t=e.data;return await p(this,S,"f").safeContract.getTransactionHash(t)}async signTransactionHash(e){let t=await this.getOwners(),s=await p(this,I,"f").getSignerAddress();if(!t.find(a=>s&&(0,ve.sameString)(a,s)))throw new Error("Transactions can only be signed by Safe owners");return(0,At.generateSignature)(p(this,I,"f"),e)}async signTransaction(e){let t=await this.getTransactionHash(e),s=await this.signTransactionHash(t);e.addSignature(s)}async approveTransactionHash(e,t){let s=await this.getOwners(),n=await p(this,I,"f").getSignerAddress();if(!s.find(o=>n&&(0,ve.sameString)(o,n)))throw new Error("Transaction hashes can only be approved by Safe owners");if((t==null?void 0:t.gas)&&(t==null?void 0:t.gasLimit))throw new Error("Cannot specify gas and gasLimit together in transaction options");return p(this,S,"f").safeContract.approveHash(e,T({from:n},t))}async getOwnersWhoApprovedTx(e){let t=await this.getOwners(),s=[];for(let n of t)(await p(this,S,"f").safeContract.approvedHashes(n,e)).gt(0)&&s.push(n);return s}async getEnableModuleTx(e,t){return await this.createTransaction(T({to:this.getAddress(),value:"0",data:await p(this,se,"f").encodeEnableModuleData(e)},t))}async getDisableModuleTx(e,t){return await this.createTransaction(T({to:this.getAddress(),value:"0",data:await p(this,se,"f").encodeDisableModuleData(e)},t))}async getAddOwnerTx({ownerAddress:e,threshold:t},s){return await this.createTransaction(T({to:this.getAddress(),value:"0",data:await p(this,M,"f").encodeAddOwnerWithThresholdData(e,t)},s))}async getRemoveOwnerTx({ownerAddress:e,threshold:t},s){return await this.createTransaction(T({to:this.getAddress(),value:"0",data:await p(this,M,"f").encodeRemoveOwnerData(e,t)},s))}async getSwapOwnerTx({oldOwnerAddress:e,newOwnerAddress:t},s){return await this.createTransaction(T({to:this.getAddress(),value:"0",data:await p(this,M,"f").encodeSwapOwnerData(e,t)},s))}async getChangeThresholdTx(e,t){return await this.createTransaction(T({to:this.getAddress(),value:"0",data:await p(this,M,"f").encodeChangeThresholdData(e)},t))}async executeTransaction(e,t){let s=await this.getTransactionHash(e),n=await this.getOwnersWhoApprovedTx(s);for(let w of n)e.addSignature((0,At.generatePreValidatedSignature)(w));let a=await this.getOwners(),o=await p(this,I,"f").getSignerAddress();a.includes(o)&&e.addSignature((0,At.generatePreValidatedSignature)(o));let u=await this.getThreshold();if(u>e.signatures.size){let w=u-e.signatures.size;throw new Error(`There ${w>1?"are":"is"} ${w} signature${w>1?"s":""} missing`)}let c=as.BigNumber.from(e.data.value);if(!c.isZero()){let w=await this.getBalance();if(c.gt(as.BigNumber.from(w)))throw new Error("Not enough Ether funds")}if((t==null?void 0:t.gas)&&(t==null?void 0:t.gasLimit))throw new Error("Cannot specify gas and gasLimit together in transaction options");return await p(this,S,"f").safeContract.execTransaction(e,T({from:o},t))}},"Safe");I=new WeakMap,S=new WeakMap,M=new WeakMap,se=new WeakMap;q.default=va});var is=E(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.validateSafeAccountConfig=void 0;var ya=i(({owners:r,threshold:e})=>{if(r.length<=0)throw new Error("Owner list must have at least one owner");if(e<=0)throw new Error("Threshold must be greater than or equal to 1");if(e>r.length)throw new Error("Threshold must be lower than or equal to owners length")},"validateSafeAccountConfig");Be.validateSafeAccountConfig=ya});var ls=E(j=>{"use strict";var le=j&&j.__classPrivateFieldSet||function(r,e,t,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(r,t):n?n.value=t:e.set(r,t),t},$=j&&j.__classPrivateFieldGet||function(r,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(r):s?s.value:e.get(r)},Sa=j&&j.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},ze,Ze,Ye,V,Se,me;Object.defineProperty(j,"__esModule",{value:!0});var ma=Ie(),os=tt(),Ta=Sa(Ot()),ye=ne(),Aa=is(),_a=i(class cs{constructor(){ze.set(this,void 0),Ze.set(this,void 0),Ye.set(this,void 0),V.set(this,void 0),Se.set(this,void 0),me.set(this,void 0)}static async create({ethAdapter:e,safeVersion:t=ma.SAFE_LAST_VERSION,isL1SafeMasterCopy:s=!1,contractNetworks:n}){let a=new cs;return await a.init({ethAdapter:e,safeVersion:t,isL1SafeMasterCopy:s,contractNetworks:n}),a}async init({ethAdapter:e,safeVersion:t,isL1SafeMasterCopy:s,contractNetworks:n}){le(this,V,e,"f"),le(this,Ye,t,"f"),le(this,Ze,s,"f"),le(this,ze,n,"f");let a=await $(this,V,"f").getChainId(),o=n==null?void 0:n[a];le(this,Se,await(0,os.getProxyFactoryContract)({ethAdapter:e,safeVersion:t,chainId:a,customContracts:o}),"f"),le(this,me,await(0,os.getSafeContract)({ethAdapter:e,safeVersion:t,chainId:a,isL1SafeMasterCopy:s,customContracts:o}),"f")}getEthAdapter(){return $(this,V,"f")}getSafeVersion(){return $(this,Ye,"f")}getAddress(){return $(this,Se,"f").getAddress()}async getChainId(){return $(this,V,"f").getChainId()}async encodeSetupCallData({owners:e,threshold:t,to:s=ye.ZERO_ADDRESS,data:n=ye.EMPTY_DATA,fallbackHandler:a=ye.ZERO_ADDRESS,paymentToken:o=ye.ZERO_ADDRESS,payment:u=0,paymentReceiver:c=ye.ZERO_ADDRESS}){return $(this,me,"f").encode("setup",[e,t,s,n,a,o,u,c])}async deploySafe({safeAccountConfig:e,safeDeploymentConfig:t,options:s,callback:n}){var a;(0,Aa.validateSafeAccountConfig)(e);let o=await $(this,V,"f").getSignerAddress(),u=await this.encodeSetupCallData(e),c=(a=t==null?void 0:t.saltNonce)!==null&&a!==void 0?a:Date.now()*1e3+Math.floor(Math.random()*1e3);if((s==null?void 0:s.gas)&&(s==null?void 0:s.gasLimit))throw new Error("Cannot specify gas and gasLimit together in transaction options");let f=await $(this,Se,"f").createProxy({safeMasterCopyAddress:$(this,me,"f").getAddress(),initializer:u,saltNonce:c,options:T({from:o},s),callback:n});if(!await $(this,V,"f").isContractDeployed(f))throw new Error("Safe Proxy contract is not deployed on the current network");return await Ta.default.create({ethAdapter:$(this,V,"f"),safeAddress:f,isL1SafeMasterCopy:$(this,Ze,"f"),contractNetworks:$(this,ze,"f")})}},"SafeFactory");ze=new WeakMap,Ze=new WeakMap,Ye=new WeakMap,V=new WeakMap,Se=new WeakMap,me=new WeakMap;j.default=_a});var Da=E(N=>{var Ke=N&&N.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(N,"__esModule",{value:!0});N.standardizeSafeTransactionData=N.EthSignSignature=N.SafeFactory=N.ContractManager=void 0;var Ia=Ke(st());N.ContractManager=Ia.default;var Oa=Ke(Ot()),Ra=Ke(ls());N.SafeFactory=Ra.default;var $a=Ke(ot());N.EthSignSignature=$a.default;var Na=Tt();Object.defineProperty(N,"standardizeSafeTransactionData",{enumerable:!0,get:function(){return Na.standardizeSafeTransactionData}});N.default=Oa.default});"use strict";export default Da();
//# sourceMappingURL=src-M4KZSU7W.mjs.map